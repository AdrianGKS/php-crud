<!DOCTYPE html>
<html lang="pt-br" ng-app="angularcrud">
<head>
  <meta charset="UTF-8">
  <title>AngularJS CRUD com PHP e PostgreSQL</title>
  <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
  <script src="js/angularjs/angular.min.js"></script>
  <script src="js/app.js"></script>
</head>
<body ng-controller="userController">

<div class="container">
  <h2>Cadastro de Usuários</h2>
  <form ng-submit="submitForm()">
    <div class="form-group">
      <label for="nome">Nome</label>
      <input type="text" id="nome" name="nome" ng-model="user.nome" class="form-control" placeholder="Digite seu nome" required />
    </div>

    <div class="form-group">
      <label for="cpf">CPF</label>
      <input type="text" id="cpf" name="cpf" ng-model="user.cpf" class="form-control" placeholder="Digite seu CPF" required />
    </div>

    <div class="form-group">
      <label for="sexo">Sexo</label>
      <select id="sexo" name="sexo" ng-model="user.sexo" class="form-control" required>
        <option value="M">Masculino</option>
        <option value="F">Feminino</option>
        <option value="O">Outro</option>
      </select>
    </div>

    <div class="form-group">
      <label for="telefone">Telefone</label>
      <input type="text" id="telefone" name="telefone" ng-model="user.telefone" class="form-control" placeholder="Digite seu telefone" />
    </div>

    <div class="form-group">
      <label for="rua">Rua</label>
      <input type="text" id="rua" name="rua" ng-model="user.rua" class="form-control" placeholder="Rua" />
    </div>

    <div class="form-group">
      <label for="numero">Número</label>
      <input type="text" id="numero" name="numero" ng-model="user.numero" class="form-control" placeholder="Número" />
    </div>

    <div class="form-group">
      <label for="bairro">Bairro</label>
      <input type="text" id="bairro" name="bairro" ng-model="user.bairro" class="form-control" placeholder="Bairro" />
    </div>

    <div class="form-group">
      <label for="cep">CEP</label>
      <input type="text" id="cep" name="cep" ng-model="user.cep" class="form-control" placeholder="CEP" />
    </div>

    <div class="form-group">
      <label for="cidade">Cidade</label>
      <input type="text" id="cidade" name="cidade" ng-model="user.cidade" class="form-control" placeholder="Cidade" />
    </div>

    <div class="form-group">
      <label for="foto">Foto</label>
      <input type="file" id="foto" name="foto" file-model="user.foto" class="form-control" />
    </div>

      <input type="hidden" ng-model="user.id" />

    <button type="submit" class="btn btn-info">{{ btnName }}</button>
  </form>

  <br><br>

  <table class="table table-bordered">
    <thead>
    <tr>
      <th>Nome</th>
      <th>CPF</th>
      <th>Sexo</th>
      <th>Telefone</th>
      <th>Endereço</th>
      <th>Foto</th>
      <th>Atualizar</th>
      <th>Excluir</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="user in users">
      <td>{{ user.nome }}</td>
      <td>{{ user.cpf }}</td>
      <td>{{ user.sexo }}</td>
      <td>{{ user.telefone }}</td>
      <td>{{ user.rua }}, {{ user.numero }}, {{ user.bairro }}, {{ user.cep }}, {{ user.cidade }}</td>
      <td><img ng-src="/api/uploads/{{ user.foto }}" width="50" height="50" /></td>
      <td><button ng-click="editUser(user)" class="btn btn-info btn-xs">Atualizar</button></td>
      <td><button ng-click="deleteUser(user.id)" class="btn btn-danger btn-xs">Deletar</button></td>
    </tr>
    </tbody>
  </table>
</div>

</body>
</html>
